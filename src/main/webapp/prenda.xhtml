<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="master.xhtml">

	<ui:define name="title">
        Outfit Pro - Registro de nueva prenda o artículo
    </ui:define>

	<ui:define name="titleCont">
		<span>Nueva prenda o artículo</span>
	</ui:define>

	<ui:define name="content">
		<h:form enctype="multipart/form-data">
			<h:inputHidden id="id" value="#{prendaController.prenda.id}"/>
			<h:inputHidden id="imagen" value="#{prendaController.prenda.imagen}"/>
			
			<h:outputLabel for="nombre" value="Nombre"
				styleClass="control-label"/>
			<p:inputText autocomplete="off" id="nombre"
				styleClass="form-control"
				value="#{prendaController.prenda.nombre}" maxlength="100"
				required="true"/>
				
			<h:outputLabel for="descripcion" value="Descripción"
				styleClass="control-label"/>
			<p:inputText autocomplete="off" id="descripcion"
				styleClass="form-control"
				value="#{prendaController.prenda.descripcion}" maxlength="500"
				required="false"/>

			<h:outputLabel for="genero" value="Género"
				styleClass="control-label"/>
			<h:selectOneMenu id="genero" value="#{prendaController.prenda.genero}"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona un género" 
					noSelectionOption="true" itemDisabled="true"/>
   				<f:selectItem itemValue="Hombre" itemLabel="Hombre"/>
				<f:selectItem itemValue="Mujer"  itemLabel="Mujer"/> 
				<f:selectItem itemValue="Unisex" itemLabel="Unisex"/>
			</h:selectOneMenu>
											
			<h:outputLabel for="tipoPrenda" value="Tipo de prenda"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="tipoPrenda" value="#{prendaController.prenda.tipoPrenda}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona un tipo de prenda" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItems value="#{prendaController.listaTipoPrenda}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="talla" value="Talla"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="talla" value="#{prendaController.prenda.talla}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona una talla" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItems value="#{prendaController.listaTalla}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="color" value="Color"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="color" value="#{prendaController.prenda.color}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona un color" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItems value="#{prendaController.listaColor}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="marca" value="Marca"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="marca" value="#{prendaController.prenda.marca}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona una marca" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItems value="#{prendaController.listaMarca}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="precio" value="Precio (S/)"
				styleClass="control-label"/>
			<p:inputNumber autocomplete="off" id="precio"
				styleClass="form-control"
				value="#{prendaController.prenda.precio}" minValue="0" 
				decimalPlaces="2" decimalSeparator="." thousandSeparator=","
				required="true"/>
					
			<h:outputLabel for="stock" value="Stock"
				styleClass="control-label"/>
			<p:inputNumber autocomplete="off" id="stock"
				styleClass="form-control"
				value="#{prendaController.prenda.stock}" 
				minValue="0" decimalPlaces="0"
				required="true"/>
						
			<h:outputLabel for="comercio" value="Comercio"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="comercio" value="#{prendaController.prenda.comercio}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="true">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona un comercio" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItems value="#{prendaController.listaComercio}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="descuento" value="Descuento"
				styleClass="control-label"/><br/>
			<p:selectOneMenu id="descuento" value="#{prendaController.prenda.descuento}"
				converter="omnifaces.SelectItemsConverter"
				styleClass="form-control" required="false">
				<f:selectItem itemValue="#{null}" itemLabel="Selecciona un descuento" 
					noSelectionOption="true" itemDisabled="true"/>
				<f:selectItem itemValue="#{null}" itemLabel="Ninguno"/>
				<f:selectItems value="#{prendaController.listaDescuento}" var="m"
					itemValue="#{m}" itemLabel="#{m.nombre}"/>
			</p:selectOneMenu><br/>
			
			<h:outputLabel for="urlimagen" value="Imagen" 
				styleClass="control-label"/><br/>
			<p:graphicImage id="urlimagen" value="#{prendaController.prenda.imagen}" 
				alt="Imagen no disponible" width="500" height="100%"/><br/><br/>
			<h:inputFile id="file" value="#{prendaController.file}">
				<!-- f:ajax execute="@form" render="urlimagen"/-->
			</h:inputFile><br/>
				
			<br/>
			
			<h:commandButton value="Guardar"
				styleClass="btn btn-primary" update="@form"
				action="listPrenda?faces-redirect=true">
				<f:actionListener binding="#{prendaController.guardarFile()}"/>
				<f:actionListener binding="#{prendaController.insertar()}"/>
			</h:commandButton>
			<h:commandButton value="Cancelar"
				action="listPrenda?faces-redirect=true" immediate="true"
				styleClass="btn btn-default" ajax="false"/>
				
			<p:growl id="growl" sticky="true" showDetail="true" life="3000"/>
		</h:form>
	</ui:define>

	<ui:define name="footerCont"></ui:define>
</ui:composition>
</html>